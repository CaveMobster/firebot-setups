{"name":"!giveaway","description":"!giveaway is a command that you can use to describe what will be given away.\n\n**Sub commands:**\n\n*!giveaway start* - Clears the file and opens the giveaway.\n\n*!giveaway enter* - Enter the giveaway, adds username to the list.\n\n*!giveaway leave*  - Leave the giveaway, removes username from the list.\n\n*!giveaway close* - Closes the giveaway to prevent users from entering.\n\n*!giveaway open* - Opens the giveaway without clearing the file.\n\n*!giveaway draw* - Draws a winner from the file.\n\n*!giveaway clear* - Clears the file.\n\n*!giveaway [anything]* - Is a fallback command in case users write a message after the command, it will display the regular !giveaway message.","version":4,"author":"cavemobster","components":{"commands":[{"active":true,"cooldown":{},"count":0,"createdAt":"2021-02-12T21:52:34+01:00","createdBy":"cavemobster","effects":{"id":"bfb6aa9a-44e1-4ab1-8211-4217bb48f23c","list":[{"chatter":"Bot","id":"48276f70-6d74-11eb-a264-59e756f7bbc5","message":"We're giving away 3 copies of Totally Reliable Delivery Service today! You have to be in the stream to be eligible, so make sure to stick around. Winners will be drawn 2, 3 and 4 hours into the stream. Type \"!giveaway enter\" to enter the giveaway!","type":"firebot:chat","effectLabel":"Giveaway description"}]},"fallbackSubcommand":{"active":true,"arg":".+","effects":{"id":"db3cd000-79fb-11eb-84ec-6949f185aefc","list":[{"chatter":"Bot","id":"df4734b0-79fb-11eb-84ec-6949f185aefc","message":"We're giving away 3 copies of Totally Reliable Delivery Service today! You have to be in the stream to be eligible, so make sure to stick around. Winners will be drawn 2, 3 and 4 hours into the stream. Type \"!giveaway enter\" to enter the giveaway!","type":"firebot:chat","effectLabel":"Giveaway description"}]},"fallback":true,"id":"fallback-subcommand","regex":true,"restrictionData":{"mode":"all","restrictions":[],"sendFailMessage":true},"type":"Fallback","usage":"","description":"Shows the regular text, as a fallback in case a user writes a message after the command."},"id":"3b8be570-6d74-11eb-a264-59e756f7bbc5","ignoreBot":false,"lastEditAt":"2021-04-13T22:40:14+02:00","lastEditBy":"cavemobster","restrictionData":{"mode":"all","restrictions":[],"sendFailMessage":true},"sendCooldownMessage":true,"simple":false,"sortTags":["8e6185d8-3922-495f-b80c-1ce1a0d2d878"],"subCommands":[{"active":true,"arg":"start","effects":{"id":"71f6b680-6d74-11eb-a264-59e756f7bbc5","list":[{"id":"78afdab0-9c8b-11eb-9477-0bd5a9cf07d7","type":"firebot:filewriter","writeMode":"delete-all","deleteLineMode":"lines","replaceLineMode":"lineNumbers","filepath":"Y:\\Stream\\Chatbot\\giveaway.txt","effectLabel":"Clear giveaway file"},{"chatter":"Bot","id":"a4d616e1-6d74-11eb-a264-59e756f7bbc5","message":"The giveaway has been opened, type \"!giveaway enter\" to join!","type":"firebot:chat","effectLabel":"Confirmation message"},{"id":"bf4ec3e0-6d7a-11eb-a264-59e756f7bbc5","name":"giveawayStarted","ttl":0,"type":"firebot:customvariable","variableData":"1","effectLabel":"Open giveaway"}]},"fallback":false,"id":"07ee0fdf-4a8f-484b-a60d-3dc876cd2613","regex":false,"restrictionData":{"mode":"all","restrictions":[{"id":"01245960-6d76-11eb-a264-59e756f7bbc5","mode":"roles","roleIds":["mod","broadcaster"],"type":"firebot:permissions"}],"sendFailMessage":true},"type":"Custom","description":"Clear the giveaway file and open a giveaway."},{"active":true,"arg":"draw","effects":{"id":"759d2940-6d74-11eb-a264-59e756f7bbc5","list":[{"id":"befb18d0-9c91-11eb-9477-0bd5a9cf07d7","type":"firebot:conditional-effects","ifs":[{"conditionData":{"mode":"exclusive","conditions":[{"type":"firebot:custom","comparisonType":"is","value":null,"leftSideValue":"$customVariable[giveawayStarted]","rightSideValue":"1"}]},"effectData":{"list":[{"id":"f2e00250-9c91-11eb-9477-0bd5a9cf07d7","type":"firebot:customvariable","ttl":0,"name":"giveawayWinner","variableData":"$readFile[Y:\\Stream\\Chatbot\\giveaway.txt, random]","effectLabel":"Make variable for winner's name"},{"chatter":"Bot","id":"d2d8b2e0-9c91-11eb-9477-0bd5a9cf07d7","message":"Congratulations $customVariable[giveawayWinner]! You win the giveaway!","type":"firebot:chat","effectLabel":"Announcement message"},{"id":"0a33b050-9c92-11eb-9477-0bd5a9cf07d7","type":"firebot:filewriter","writeMode":"delete","deleteLineMode":"text","replaceLineMode":"lineNumbers","lineNumbers":"$customVariable[giveawayWinner]","text":"$customVariable[giveawayWinner]","filepath":"Y:\\Stream\\Chatbot\\giveaway.txt","effectLabel":"Remove user from file"}],"id":"beff5e90-9c91-11eb-9477-0bd5a9cf07d7"},"label":"Giveaway open"}],"otherwiseEffectData":{"list":[{"id":"d9d02560-9c91-11eb-9477-0bd5a9cf07d7","type":"firebot:chat","chatter":"Bot","message":"The giveaway is currently closed.","effectLabel":"Giveaway not open message"}],"id":"befdd7f0-9c91-11eb-9477-0bd5a9cf07d7"},"otherwiseLabel":"Giveaway closed","effectLabel":"Check if giveaway open"}]},"fallback":false,"id":"b1e3dbf7-f8c8-40dd-bc35-4de0ba016b10","regex":false,"restrictionData":{"mode":"all","restrictions":[{"id":"f4d5ddf0-6d75-11eb-a264-59e756f7bbc5","mode":"roles","roleIds":["broadcaster","mod"],"type":"firebot:permissions"}],"sendFailMessage":true},"type":"Custom","description":"Draw a winner from the giveaway file and remove their name from the file."},{"active":true,"arg":"enter","effects":{"id":"77832750-6d74-11eb-a264-59e756f7bbc5","list":[{"id":"3e7f23d0-9c92-11eb-9477-0bd5a9cf07d7","type":"firebot:conditional-effects","ifs":[{"conditionData":{"mode":"exclusive","conditions":[{"type":"firebot:custom","comparisonType":"is","value":null,"leftSideValue":"$customVariable[giveawayStarted]","rightSideValue":"0"}]},"effectData":{"list":[{"id":"443ec7b0-9c94-11eb-9477-0bd5a9cf07d7","type":"firebot:chat","chatter":"Bot","message":"The giveaway is currently closed.","effectLabel":"Giveaway closed message"}],"id":"3e83b7b0-9c92-11eb-9477-0bd5a9cf07d7"},"label":"Giveaway is closed"},{"conditionData":{"mode":"exclusive","conditions":[{"type":"firebot:custom","comparisonType":"contains","value":null,"leftSideValue":"$readFile[Y:\\Stream\\Chatbot\\giveaway.txt]","rightSideValue":"$user"}]},"effectData":{"list":[{"id":"39306d60-9c94-11eb-9477-0bd5a9cf07d7","type":"firebot:chat","chatter":"Bot","message":"$user, you already entered the giveaway!","effectLabel":"User already entered message"}],"id":"2be1c000-9c94-11eb-9477-0bd5a9cf07d7"},"label":"User already entered"}],"otherwiseEffectData":{"list":[{"deleteLineMode":"lines","dontRepeat":true,"filepath":"Y:\\Stream\\Chatbot\\giveaway.txt","id":"4d40fe50-9c94-11eb-9477-0bd5a9cf07d7","replaceLineMode":"lineNumbers","text":"$username","type":"firebot:filewriter","writeMode":"append","effectLabel":"Add username to file"},{"chatter":"Bot","effectLabel":"Confirmation message","id":"4d40fe51-9c94-11eb-9477-0bd5a9cf07d7","message":"$username entered the giveaway!","type":"firebot:chat"}],"id":"3e823110-9c92-11eb-9477-0bd5a9cf07d7"},"otherwiseLabel":"Giveaway is open","effectLabel":"Check for giveaway open and double entry"}]},"fallback":false,"id":"9c6f6ac0-7875-47a0-883e-8c7030a550e5","regex":false,"restrictionData":{"mode":"all","restrictions":[],"sendFailMessage":true},"type":"Custom","description":"Enter the giveaway."},{"active":true,"arg":"close","effects":{"id":"217ca470-6d75-11eb-a264-59e756f7bbc5","list":[{"id":"209b3660-6d7b-11eb-a264-59e756f7bbc5","name":"giveawayStarted","ttl":0,"type":"firebot:customvariable","variableData":"0","effectLabel":"Close giveaway"},{"chatter":"Bot","id":"ce018760-6d75-11eb-a264-59e756f7bbc5","message":"The giveaway is now closed.","type":"firebot:chat","effectLabel":"Confirmation message"}]},"fallback":false,"id":"d78c9681-dc33-4d2b-8193-e86aa110cbc4","regex":false,"restrictionData":{"mode":"all","restrictions":[{"id":"e65e40f0-6d75-11eb-a264-59e756f7bbc5","mode":"roles","roleIds":["mod","broadcaster"],"type":"firebot:permissions"}],"sendFailMessage":true},"type":"Custom","description":"Close the giveaway."},{"active":true,"arg":"open","effects":{"id":"067ebeb0-9bce-11eb-9060-b31eda4b7b8f","list":[{"id":"126b6b10-9bce-11eb-9060-b31eda4b7b8f","name":"giveawayStarted","ttl":0,"type":"firebot:customvariable","variableData":"1","effectLabel":"Open giveaway"},{"chatter":"Bot","id":"126b6b11-9bce-11eb-9060-b31eda4b7b8f","message":"The giveaway has been reopened.","type":"firebot:chat","effectLabel":"Confirmation message"}]},"fallback":false,"id":"a1a69e8a-ef70-480c-a3ec-ddc8e957a2a6","regex":false,"restrictionData":{"mode":"all","restrictions":[{"id":"abd57dc0-9c89-11eb-9477-0bd5a9cf07d7","mode":"roles","roleIds":["mod","broadcaster"],"type":"firebot:permissions"}],"sendFailMessage":true},"type":"Custom","description":"Open the giveaway without clearing the giveaway file."},{"active":true,"arg":"leave","effects":{"id":"6434ce90-9bcf-11eb-9060-b31eda4b7b8f","list":[{"id":"c6b77720-9bcf-11eb-9060-b31eda4b7b8f","ifs":[{"conditionData":{"conditions":[{"comparisonType":"contains","leftSideValue":"$readFile[Y:\\Stream\\Chatbot\\giveaway.txt]","rightSideValue":"$user","type":"firebot:custom","value":null}],"mode":"exclusive"},"effectData":{"id":"2c312a80-9bce-11eb-9060-b31eda4b7b8f","list":[{"deleteLineMode":"text","filepath":"Y:\\Stream\\Chatbot\\giveaway.txt","id":"e95f8920-9bcf-11eb-9060-b31eda4b7b8f","replaceLineMode":"lineNumbers","text":"$username","type":"firebot:filewriter","writeMode":"delete","effectLabel":"Remove username from giveaway file"},{"chatter":"Bot","id":"02f46a00-9bcf-11eb-9060-b31eda4b7b8f","message":"$user removed themselves from the giveaway.","type":"firebot:chat","effectLabel":"Confirmation message"}]},"label":"File contains username"}],"otherwiseEffectData":{"id":"2c2f55c0-9bce-11eb-9060-b31eda4b7b8f","list":[{"chatter":"Bot","effectLabel":"User not in giveaway message","id":"102667a0-9bcf-11eb-9060-b31eda4b7b8f","message":"$username, you didn't enter the giveaway and therefore cannot leave the giveaway.","type":"firebot:chat"}]},"type":"firebot:conditional-effects","otherwiseLabel":"File doesn't contain username","effectLabel":"Check if user entered giveaway"}]},"fallback":false,"id":"d779a072-4dee-4614-94e2-6f61702c7f5a","regex":false,"restrictionData":{"mode":"all","restrictions":[],"sendFailMessage":true},"type":"Custom","description":"Leave the giveaway."},{"active":true,"id":"91523e4d-ad38-4980-bf9a-b7db47de5bdb","type":"Custom","arg":"clear","regex":false,"fallback":false,"restrictionData":{"restrictions":[{"id":"f3dd5cd0-9c8b-11eb-9477-0bd5a9cf07d7","type":"firebot:permissions","mode":"roles","roleIds":["mod","broadcaster"]}],"mode":"all","sendFailMessage":true},"effects":{"list":[{"id":"bd662fb0-9c8b-11eb-9477-0bd5a9cf07d7","type":"firebot:filewriter","writeMode":"delete-all","deleteLineMode":"lines","replaceLineMode":"lineNumbers","filepath":"Y:\\Stream\\Chatbot\\giveaway.txt","effectLabel":"Clear giveaway file"},{"id":"03038950-9c8c-11eb-9477-0bd5a9cf07d7","type":"firebot:chat","chatter":"Bot","message":"The giveaway list has been cleared.","effectLabel":"Confirmation message"}],"id":"b32d74e0-9c8b-11eb-9477-0bd5a9cf07d7"},"description":"Clears the giveaway file."}],"trigger":"!giveaway","description":"Show what the giveaway is."}],"counters":[],"currencies":[],"effectQueues":[],"events":[],"hotkeys":[],"presetEffectLists":[],"timers":[],"viewerRoles":[]},"requireCurrency":false,"importQuestions":[]}