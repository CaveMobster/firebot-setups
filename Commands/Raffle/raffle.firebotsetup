{"name":"Raffle command","description":"!raffle is a command that users can use to enter a simple raffle.\n\n**Sub commands:**\n\n*!raffle start* - Clears the role and opens the raffle.\n\n*!raffle leave*  - Leave the raffle, removes username from the role.\n\n*!raffle close* - Closes the raffle to prevent users from entering.\n\n*!raffle open* - Opens the raffle without clearing the role.\n\n*!raffle draw* - Randomly draws a user from the raffle role.\n\n*!raffle clear* - Clears the role.","version":1,"author":"cavemobster","components":{"commands":[{"active":true,"cooldown":{},"count":40,"createdAt":"2021-02-12T21:52:34+01:00","createdBy":"cavemobster","effects":{"id":"93bad6b4-8814-465a-8491-e21ff03e65a4","list":[{"effectLabel":"Check for raffle open and double entry","id":"22e63899-3e67-4921-b5ad-e0ce1c886633","ifs":[{"conditionData":{"conditions":[{"comparisonType":"is","leftSideValue":"$customVariable[raffleStarted]","rightSideValue":"0","type":"firebot:custom","value":null}],"mode":"exclusive"},"effectData":{"id":"0a7860b2-f1fa-462e-85ea-853475806bcd","list":[{"chatter":"Bot","effectLabel":"Raffle is closed message","id":"026e653a-8172-4c77-a77b-dc7605fb33b2","message":"The raffle is currently closed.","type":"firebot:chat","active":true,"percentWeight":null}]},"label":"Raffle is closed"},{"conditionData":{"conditions":[{"comparisonType":"has role","leftSideValue":"$user","rightSideValue":"96d19eb7-1cc0-434f-bf83-9c801a94cd59","type":"firebot:viewerroles","value":null}],"mode":"exclusive"},"effectData":{"id":"f313e8b2-0108-4bd3-94b7-4646d5575b59","list":[{"chatter":"Bot","effectLabel":"User already entered message","id":"c1be95b1-31f1-4bc6-a47e-fc3f0f53fa37","message":"$userDisplayName, you already entered the raffle!","type":"firebot:chat","active":true,"percentWeight":null}]},"label":"User already entered"}],"otherwiseEffectData":{"id":"72a6c5c9-4b4f-4a6f-add2-1e3b9256f28f","list":[{"id":"1da40286-fa74-427e-ad5b-0392faf8bbd5","type":"firebot:update-roles","active":true,"viewerType":"current","addRoleId":"96d19eb7-1cc0-434f-bf83-9c801a94cd59","percentWeight":null},{"chatter":"Bot","effectLabel":"Confirmation message","id":"8568b332-4de2-4619-b5bc-eb24d996b1b5","message":"$userDisplayName joined the raffle!","type":"firebot:chat","active":true,"percentWeight":null}]},"type":"firebot:conditional-effects","active":true,"percentWeight":null}]},"fallbackSubcommand":null,"id":"9487470e-09cd-44be-8a17-65b6394fffd7","ignoreBot":false,"lastEditAt":"2025-10-31T23:27:25.243+01:00","lastEditBy":"Streamer","restrictionData":{"mode":"all","restrictions":[],"sendFailMessage":true,"failMessage":"Sorry @{user}, you cannot use this command because: {reason}","sendAsReply":false},"sendCooldownMessage":true,"simple":false,"sortTags":[],"subCommands":[{"active":true,"arg":"start","description":"Clear the raffle role and open the raffle.","effects":{"id":"ba70be46-6c4d-49bf-8fab-7f769ab4ceb9","list":[{"id":"bfd436fb-7943-4b0f-a543-7053a23639f6","type":"firebot:update-roles","active":true,"viewerType":"current","removeAllRoleId":"96d19eb7-1cc0-434f-bf83-9c801a94cd59","percentWeight":null},{"chatter":"Bot","effectLabel":"Confirmation message","id":"2ffdcaa0-54a8-428d-9172-e6a6935ae9be","message":"Started a new raffle, type !raffle or !raffle [custom message] to join.","type":"firebot:chat","active":true,"percentWeight":null},{"effectLabel":"Open the raffle","id":"4cfc6424-5713-4d00-8cc4-62e895d25b45","name":"raffleStarted","ttl":0,"type":"firebot:customvariable","variableData":"1","active":true,"percentWeight":null}]},"fallback":false,"id":"535d0f5f-6093-422c-bd24-e097b100e2b3","regex":false,"restrictionData":{"mode":"all","restrictions":[{"id":"bbf468ee-df15-478a-b349-15b8144fca1c","mode":"roles","roleIds":["mod","broadcaster"],"type":"firebot:permissions","ranks":[]}],"sendFailMessage":true,"failMessage":"Sorry @{user}, you cannot use this command because: {reason}","sendAsReply":false},"type":"Custom"},{"active":true,"arg":"draw","description":"Draw a winner from the raffle role.","effects":{"id":"7d2b4c63-6170-46fb-b4b9-a2d03c8c1ddf","list":[{"effectLabel":"Temporary variable for raffle winner","id":"ddf77f9f-e301-42fb-8caf-8ce01150a2f4","name":"raffleWinner","ttl":0,"type":"firebot:customvariable","variableData":"$randomCustomRoleUser[raffle]","active":true,"percentWeight":null},{"chatter":"Bot","effectLabel":"Announce raffle winner","id":"89e5e523-4643-4447-97c4-bc826ca900cf","message":"This raffle's winner is: $customVariable[raffleWinner]!","type":"firebot:chat","active":true,"percentWeight":null},{"id":"f2e8609d-083d-4d44-9fa2-846d5e5e2521","type":"firebot:update-roles","active":true,"viewerType":"custom","removeRoleId":"96d19eb7-1cc0-434f-bf83-9c801a94cd59","customViewer":"$customVariable[raffleWinner]","percentWeight":null,"effectLabel":"Remove winner from raffle role"}]},"fallback":false,"id":"d8679c5a-cef1-4be2-aef7-c23c5041b9eb","regex":false,"restrictionData":{"mode":"all","restrictions":[{"id":"ad79f75c-8471-4b96-b94b-f6e786668066","mode":"roles","roleIds":["broadcaster","mod"],"type":"firebot:permissions","ranks":[]}],"sendFailMessage":true,"failMessage":"Sorry @{user}, you cannot use this command because: {reason}","sendAsReply":false},"type":"Custom"},{"active":true,"arg":"close","description":"Close the raffle.","effects":{"id":"78bdf915-3a72-41aa-87fe-68bb61709d90","list":[{"effectLabel":"Close raffle","id":"5ea4eee4-b2c7-4289-b48e-2eac0150b0fd","name":"raffleStarted","ttl":0,"type":"firebot:customvariable","variableData":"0","active":true,"percentWeight":null},{"chatter":"Bot","effectLabel":"Confirmation message","id":"4e12b35e-4aec-40ad-945f-265eb02b8c2b","message":"The raffle is now closed.","type":"firebot:chat","active":true,"percentWeight":null}]},"fallback":false,"id":"75fe2d78-1d58-4890-bfae-b9f933173f1f","regex":false,"restrictionData":{"mode":"all","restrictions":[{"id":"94f5b4b8-b276-4b9a-82a6-48cb0a512ce8","mode":"roles","roleIds":["mod","broadcaster"],"type":"firebot:permissions","ranks":[]}],"sendFailMessage":true,"failMessage":"Sorry @{user}, you cannot use this command because: {reason}","sendAsReply":false},"type":"Custom"},{"active":true,"arg":"open","description":"Open the raffle without clearing the role.","effects":{"id":"28e761a9-b758-4098-ba95-04509082c72a","list":[{"effectLabel":"Open raffle","id":"44a815ad-4238-416f-bbae-0018068988d6","name":"raffleStarted","ttl":0,"type":"firebot:customvariable","variableData":"1","active":true,"percentWeight":null},{"chatter":"Bot","effectLabel":"Confirmation message","id":"dcfbb30e-4658-4174-bfd2-a1bc26430c92","message":"The raffle has been opened.","type":"firebot:chat","active":true,"percentWeight":null}]},"fallback":false,"id":"de1bf171-c42a-4335-a939-28dc75fbd1d7","regex":false,"restrictionData":{"mode":"all","restrictions":[{"id":"86bbfa26-289d-49cb-b0bb-9618dd979f80","mode":"roles","roleIds":["mod","broadcaster"],"type":"firebot:permissions","ranks":[]}],"sendFailMessage":true,"failMessage":"Sorry @{user}, you cannot use this command because: {reason}","sendAsReply":false},"type":"Custom"},{"active":true,"arg":"leave","description":"Leave the raffle.","effects":{"id":"7ec6d614-36bd-46d9-9747-59ee6365c072","list":[{"effectLabel":"Check if user is in raffle","id":"9cf9406d-1051-4228-8dac-49abe30b84cc","ifs":[{"conditionData":{"conditions":[{"type":"firebot:viewerroles","comparisonType":"has role","value":null,"leftSideValue":"$user","rightSideValue":"96d19eb7-1cc0-434f-bf83-9c801a94cd59"}],"mode":"exclusive"},"effectData":{"id":"9409fabf-582b-4d7a-82d9-aa291c93acf7","list":[{"id":"8bfc4f57-19bf-4457-a6a7-ad07ac52a65b","type":"firebot:update-roles","active":true,"viewerType":"current","removeRoleId":"96d19eb7-1cc0-434f-bf83-9c801a94cd59","percentWeight":null,"effectLabel":"Remove user from raffle"},{"chatter":"Bot","effectLabel":"Confirmation message","id":"c227d98c-175d-432f-bc48-1aedba2d9965","message":"$userDisplayName removed themselves from the raffle.","type":"firebot:chat","active":true,"percentWeight":null}]},"label":"User is in the raffle"}],"otherwiseEffectData":{"id":"1fce8aa8-d083-43b9-adc5-fda14a4d3a84","list":[{"chatter":"Bot","effectLabel":"User not in raffle message","id":"ddbfb6cb-b7cb-4222-a39a-7162bd5965c2","message":"$userDisplayName, you didn't enter the raffle and therefore cannot leave the raffle.","type":"firebot:chat","active":true,"percentWeight":null}]},"otherwiseLabel":"User not in the raffle","type":"firebot:conditional-effects","active":true,"percentWeight":null}]},"fallback":false,"id":"1b460747-4d53-4104-a298-765b9c53e520","regex":false,"restrictionData":{"mode":"all","restrictions":[],"sendFailMessage":true,"failMessage":"Sorry @{user}, you cannot use this command because: {reason}","sendAsReply":false},"type":"Custom","usage":"leave "},{"active":true,"arg":"clear","description":"Clear the raffle role.","effects":{"id":"2f57212b-6c8f-4e0e-bc3b-1b9392e2b83d","list":[{"id":"5e61e40e-c511-4750-ab05-15ed802bcd8f","type":"firebot:update-roles","active":true,"viewerType":"current","removeAllRoleId":"96d19eb7-1cc0-434f-bf83-9c801a94cd59","percentWeight":null},{"chatter":"Bot","effectLabel":"Confirmation message","id":"8ada630d-7019-431c-8c59-56a2600f60ff","message":"Raffle has been cleared.","type":"firebot:chat","active":true,"percentWeight":null}]},"fallback":false,"id":"870067fb-509f-4edb-8c0d-ea18fed08259","regex":false,"restrictionData":{"mode":"all","restrictions":[{"id":"bfccc6af-0336-482b-860f-dc3e9a5f242f","mode":"roles","roleIds":["mod","broadcaster"],"type":"firebot:permissions","ranks":[]}],"sendFailMessage":true,"failMessage":"Sorry @{user}, you cannot use this command because: {reason}","sendAsReply":false},"type":"Custom"}],"trigger":"!raffle","type":"custom","cooldownMessage":"This command is still on cooldown for: {timeLeft}","aliases":[],"treatQuotedTextAsSingleArg":false,"allowTriggerBySharedChat":"inherit"}],"counters":[],"currencies":[],"effectQueues":[],"events":[],"hotkeys":[],"presetEffectLists":[],"timers":[],"viewerRoles":[{"name":"raffle","viewers":[],"id":"96d19eb7-1cc0-434f-bf83-9c801a94cd59"}]},"requireCurrency":false,"importQuestions":[]}