{"name":"Queue command","description":"!queue is a command that users can use to enter the queue.\n\n**Sub commands:**\n\n*!queue start* - Clears the file and opens the queue.\n\n*!queue leave*  - Leave the queue, removes username from the list.\n\n*!queue close* - Closes the queue to prevent users from entering.\n\n*!queue open* - Opens the queue without clearing the file.\n\n*!queue draw* - Draws the next person in line from the file.\n\n*!queue clear* - Clears the file.\n\n*!queue [anything]* - Is a fallback command with which the user can enter the queue with a custom message.","version":1,"author":"cavemobster","components":{"commands":[{"active":true,"simple":false,"sendCooldownMessage":true,"cooldown":{},"effects":{"id":"60d75e90-9c86-11eb-9477-0bd5a9cf07d7","list":[{"id":"0dfe97d0-9c8e-11eb-9477-0bd5a9cf07d7","type":"firebot:conditional-effects","ifs":[{"conditionData":{"mode":"exclusive","conditions":[{"type":"firebot:custom","comparisonType":"is","value":null,"leftSideValue":"$customVariable[queueStarted]","rightSideValue":"0"}]},"effectData":{"list":[{"id":"f7bdb960-9c8d-11eb-9477-0bd5a9cf07d7","type":"firebot:chat","chatter":"Bot","message":"The queue is currently closed.","effectLabel":"Queue is closed message"}],"id":"8d1caa80-9c8d-11eb-9477-0bd5a9cf07d7"},"label":"Queue is closed"},{"conditionData":{"mode":"exclusive","conditions":[{"type":"firebot:custom","comparisonType":"contains","value":null,"leftSideValue":"$readFile[Y:\\Stream\\Chatbot\\queue.txt]","rightSideValue":"$username"}]},"effectData":{"list":[{"id":"ca9438e0-9c8f-11eb-9477-0bd5a9cf07d7","type":"firebot:chat","chatter":"Bot","message":"$user, you are already in the queue!","effectLabel":"User already entered message"}],"id":"9308b590-9c8f-11eb-9477-0bd5a9cf07d7"},"label":"User already entered"}],"otherwiseEffectData":{"list":[{"id":"b8bedcd0-9c8d-11eb-9477-0bd5a9cf07d7","type":"firebot:filewriter","writeMode":"append","deleteLineMode":"lines","replaceLineMode":"lineNumbers","filepath":"Y:\\Stream\\Chatbot\\queue.txt","text":"$username","dontRepeat":true,"effectLabel":"Add user to the queue file"},{"id":"b8bedcd1-9c8d-11eb-9477-0bd5a9cf07d7","type":"firebot:chat","chatter":"Bot","message":"$user joined the queue.","effectLabel":"Confirmation message"}],"id":"8d1afcd0-9c8d-11eb-9477-0bd5a9cf07d7"},"effectLabel":"Check for queue open and double entry"}]},"restrictionData":{"restrictions":[],"mode":"all","sendFailMessage":true},"ignoreBot":false,"sortTags":["8e6185d8-3922-495f-b80c-1ce1a0d2d878"],"trigger":"!queue","id":"60d75e92-9c86-11eb-9477-0bd5a9cf07d7","createdBy":"cavemobster","createdAt":"2021-02-12T21:52:34+01:00","count":40,"subCommands":[{"active":true,"id":"60d785a0-9c86-11eb-9477-0bd5a9cf07d7","type":"Custom","arg":"start","regex":false,"fallback":false,"restrictionData":{"restrictions":[{"id":"60d785a1-9c86-11eb-9477-0bd5a9cf07d7","type":"firebot:permissions","mode":"roles","roleIds":["mod","broadcaster"]}],"mode":"all","sendFailMessage":true},"effects":{"list":[{"id":"0af3ac50-9c8f-11eb-9477-0bd5a9cf07d7","type":"firebot:filewriter","writeMode":"delete-all","deleteLineMode":"lines","replaceLineMode":"lineNumbers","filepath":"Y:\\Stream\\Chatbot\\queue.txt","effectLabel":"Clear the queue file"},{"id":"60d785a2-9c86-11eb-9477-0bd5a9cf07d7","type":"firebot:chat","chatter":"Bot","message":"Started a new queue, type !queue or !queue [custom message] to join.","effectLabel":"Confirmation message"},{"id":"60d785a3-9c86-11eb-9477-0bd5a9cf07d7","type":"firebot:customvariable","ttl":0,"name":"queueStarted","variableData":"1","effectLabel":"Open the queue"}],"id":"60d785a4-9c86-11eb-9477-0bd5a9cf07d7"},"description":"Clear the queue file and open the queue."},{"active":true,"id":"60d785a5-9c86-11eb-9477-0bd5a9cf07d7","type":"Custom","arg":"draw","regex":false,"fallback":false,"restrictionData":{"restrictions":[{"id":"60d785a6-9c86-11eb-9477-0bd5a9cf07d7","type":"firebot:permissions","mode":"roles","roleIds":["broadcaster","mod"]}],"mode":"all","sendFailMessage":true},"effects":{"list":[{"id":"22797160-9c90-11eb-9477-0bd5a9cf07d7","type":"firebot:conditional-effects","ifs":[{"conditionData":{"mode":"exclusive","conditions":[{"type":"firebot:custom","comparisonType":"is","value":null,"leftSideValue":"$customVariable[queueStarted]","rightSideValue":"0"}]},"effectData":{"list":[{"id":"2d6fd6e0-9c90-11eb-9477-0bd5a9cf07d7","type":"firebot:chat","chatter":"Bot","message":"The queue is currently closed.","effectLabel":"Queue not open message"}],"id":"227d9010-9c90-11eb-9477-0bd5a9cf07d7"},"label":"Queue is closed"}],"otherwiseEffectData":{"list":[{"id":"490557d0-9c91-11eb-9477-0bd5a9cf07d7","type":"firebot:customvariable","ttl":0,"name":"nextInQueue","variableData":"$readFile[Y:\\Stream\\Chatbot\\queue.txt, random]","effectLabel":"Temporary variable for queue entry"},{"id":"440760d0-9c90-11eb-9477-0bd5a9cf07d7","type":"firebot:chat","chatter":"Bot","message":"Next up in the queue is: $customVariable[nextInQueue]!","effectLabel":"Announce next in queue"},{"id":"440760d1-9c90-11eb-9477-0bd5a9cf07d7","type":"firebot:filewriter","writeMode":"delete","deleteLineMode":"text","replaceLineMode":"lineNumbers","text":"$customVariable[nextInQueue]","filepath":"Y:\\Stream\\Chatbot\\queue.txt","effectLabel":"Remove user from queue"}],"id":"227c0970-9c90-11eb-9477-0bd5a9cf07d7"},"otherwiseLabel":"Queue is open","effectLabel":"Check if queue is open"}],"id":"60d785a9-9c86-11eb-9477-0bd5a9cf07d7"},"description":"Draw the next user from the queue file."},{"active":true,"id":"60d785af-9c86-11eb-9477-0bd5a9cf07d7","type":"Custom","arg":"close","regex":false,"fallback":false,"restrictionData":{"restrictions":[{"id":"60d785b0-9c86-11eb-9477-0bd5a9cf07d7","type":"firebot:permissions","mode":"roles","roleIds":["mod","broadcaster"]}],"mode":"all","sendFailMessage":true},"effects":{"list":[{"id":"60d785b1-9c86-11eb-9477-0bd5a9cf07d7","type":"firebot:customvariable","ttl":0,"name":"queueStarted","variableData":"0","effectLabel":"Close queue"},{"id":"60d785b2-9c86-11eb-9477-0bd5a9cf07d7","type":"firebot:chat","chatter":"Bot","message":"The queue is now closed.","effectLabel":"Confirmation message"}],"id":"60d785b3-9c86-11eb-9477-0bd5a9cf07d7"},"description":"Close the queue."},{"active":true,"id":"60d785bb-9c86-11eb-9477-0bd5a9cf07d7","type":"Custom","arg":"open","regex":false,"fallback":false,"restrictionData":{"restrictions":[{"id":"742c9950-9c87-11eb-9477-0bd5a9cf07d7","type":"firebot:permissions","mode":"roles","roleIds":["mod","broadcaster"]}],"mode":"all","sendFailMessage":true},"effects":{"list":[{"id":"60d785bc-9c86-11eb-9477-0bd5a9cf07d7","type":"firebot:customvariable","ttl":0,"name":"queueStarted","variableData":"1","effectLabel":"Open queue"},{"id":"60d785bd-9c86-11eb-9477-0bd5a9cf07d7","type":"firebot:chat","chatter":"Bot","message":"The queue has been opened.","effectLabel":"Confirmation message"}],"id":"60d785be-9c86-11eb-9477-0bd5a9cf07d7"},"description":"Open the queue without clearing the file."},{"active":true,"id":"60d785bf-9c86-11eb-9477-0bd5a9cf07d7","type":"Custom","arg":"leave","regex":false,"fallback":false,"restrictionData":{"restrictions":[],"mode":"all","sendFailMessage":true},"effects":{"list":[{"id":"60d785c0-9c86-11eb-9477-0bd5a9cf07d7","type":"firebot:conditional-effects","ifs":[{"conditionData":{"mode":"exclusive","conditions":[{"type":"firebot:custom","comparisonType":"contains","value":null,"leftSideValue":"$readFile[Y:\\Stream\\Chatbot\\giveaway.txt]","rightSideValue":"$user"}]},"effectData":{"list":[{"id":"60d785c1-9c86-11eb-9477-0bd5a9cf07d7","type":"firebot:filewriter","writeMode":"delete","deleteLineMode":"text","replaceLineMode":"lineNumbers","filepath":"Y:\\Stream\\Chatbot\\queue.txt","text":"$username","effectLabel":"Remove username from file"},{"id":"60d785c2-9c86-11eb-9477-0bd5a9cf07d7","type":"firebot:chat","chatter":"Bot","message":"$user removed themselves from the queue.","effectLabel":"Confirmation message"}],"id":"60d785c3-9c86-11eb-9477-0bd5a9cf07d7"},"label":"User is in queue"}],"otherwiseEffectData":{"list":[{"id":"60d785c4-9c86-11eb-9477-0bd5a9cf07d7","type":"firebot:chat","chatter":"Bot","message":"$username, you didn't enter the queue and therefore cannot leave the queue.","effectLabel":"User not in queue message"}],"id":"60d785c5-9c86-11eb-9477-0bd5a9cf07d7"},"otherwiseLabel":"User not in queue","effectLabel":"Check if user is in queue"}],"id":"60d785c6-9c86-11eb-9477-0bd5a9cf07d7"},"usage":"leave ","description":"Leave the queue."},{"active":true,"id":"bb3dd54d-dfa8-471a-849a-529eb4fac246","type":"Custom","arg":"clear","regex":false,"fallback":false,"restrictionData":{"restrictions":[{"id":"520b7850-9c8c-11eb-9477-0bd5a9cf07d7","type":"firebot:permissions","mode":"roles","roleIds":["mod","broadcaster"]}],"mode":"all","sendFailMessage":true},"effects":{"list":[{"id":"47a4f6c0-9c8c-11eb-9477-0bd5a9cf07d7","type":"firebot:filewriter","writeMode":"delete-all","deleteLineMode":"lines","replaceLineMode":"lineNumbers","filepath":"Y:\\Stream\\Chatbot\\queue.txt","effectLabel":"Clear the file"},{"id":"73a0bac0-9c8c-11eb-9477-0bd5a9cf07d7","type":"firebot:chat","chatter":"Bot","message":"Queue has been cleared.","effectLabel":"Confirmation message"}],"id":"44733ed0-9c8c-11eb-9477-0bd5a9cf07d7"},"description":"Clear the queue file."}],"lastEditBy":"cavemobster","lastEditAt":"2021-04-13T22:33:19+02:00","fallbackSubcommand":{"active":true,"id":"fallback-subcommand","type":"Fallback","arg":".+","regex":true,"usage":"","fallback":true,"restrictionData":{"restrictions":[],"mode":"all","sendFailMessage":true},"effects":{"list":[{"id":"f829d6c0-9c8f-11eb-9477-0bd5a9cf07d7","type":"firebot:conditional-effects","ifs":[{"conditionData":{"mode":"exclusive","conditions":[{"type":"firebot:custom","comparisonType":"is","value":null,"leftSideValue":"$customVariable[queueStarted]","rightSideValue":"0"}]},"effectData":{"list":[{"id":"f7bdb960-9c8d-11eb-9477-0bd5a9cf07d7","type":"firebot:chat","chatter":"Bot","message":"The queue is currently closed."}],"id":"8d1caa80-9c8d-11eb-9477-0bd5a9cf07d7"},"label":"Queue is closed"},{"conditionData":{"mode":"exclusive","conditions":[{"type":"firebot:custom","comparisonType":"contains","value":null,"leftSideValue":"$readFile[Y:\\Stream\\Chatbot\\queue.txt]","rightSideValue":"$username"}]},"effectData":{"list":[{"id":"ca9438e0-9c8f-11eb-9477-0bd5a9cf07d7","type":"firebot:chat","chatter":"Bot","message":"$user, you are already in the queue!"}],"id":"9308b590-9c8f-11eb-9477-0bd5a9cf07d7"},"label":"User already entered"}],"otherwiseEffectData":{"list":[{"id":"b8bedcd0-9c8d-11eb-9477-0bd5a9cf07d7","type":"firebot:filewriter","writeMode":"append","deleteLineMode":"lines","replaceLineMode":"lineNumbers","filepath":"Y:\\Stream\\Chatbot\\queue.txt","text":"$username - $arg[all]","dontRepeat":true},{"id":"b8bedcd1-9c8d-11eb-9477-0bd5a9cf07d7","type":"firebot:chat","chatter":"Bot","message":"$user joined the queue with the following: $arg[all].","effectLabel":"Confirmation message"}],"id":"8d1afcd0-9c8d-11eb-9477-0bd5a9cf07d7"},"otherwiseLabel":"User succesfully entered","effectLabel":"Check for queue open and double entry"}],"id":"dad21e50-9c8c-11eb-9477-0bd5a9cf07d7"},"description":"Enter the queue with a custom message."}}],"counters":[],"currencies":[],"effectQueues":[],"events":[],"hotkeys":[],"presetEffectLists":[],"timers":[],"viewerRoles":[]},"requireCurrency":false,"importQuestions":[]}